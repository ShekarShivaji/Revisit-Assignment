{"ast":null,"code":"import\"./index.css\";import{Component}from\"react\";import{Link,Navigate}from\"react-router-dom\";import Cookies from'js-cookie';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";class Login extends Component{constructor(){super(...arguments);this.state={username:\"\",password:\"\"};this.submitForm=async e=>{e.preventDefault();const{username,password}=this.state;if(username&&password!==\"\"){const userDetails={username,password};const response=await fetch(\"http://localhost:3001/login/\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(userDetails)});const data=await response.json();if(response.ok){Cookies.set('jwt_token',data.jwtToken,{expires:30,path:'/'});window.location.replace('/');}}else{alert(\"fill the input fields\");}};this.onChangeUserName=e=>{this.setState({username:e.target.value});};this.onChangePassword=e=>{this.setState({password:e.target.value});};}render(){const{username,password}=this.state;const jwtToken=Cookies.get('jwt_token');if(jwtToken!==undefined){return/*#__PURE__*/_jsx(Navigate,{to:\"/\"});}return/*#__PURE__*/_jsx(\"div\",{className:\"login-bg\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"login-card\",onSubmit:this.submitForm,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Login\"}),/*#__PURE__*/_jsx(\"lable\",{htmlFor:\"UserName\",children:\"UserName\"}),/*#__PURE__*/_jsx(\"input\",{id:\"UserName\",className:\"inputs\",type:\"text\",value:username,placeholder:\"Enter your userName\",onChange:this.onChangeUserName}),/*#__PURE__*/_jsx(\"lable\",{htmlFor:\"Password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{id:\"Password\",className:\"inputs\",type:\"password\",value:password,placeholder:\"Enter your password\",onChange:this.onChangePassword}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"loginBtn\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"signuptext\",children:[\"Don't have an account?\",/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:/*#__PURE__*/_jsx(\"button\",{className:\"signupButton\",children:\"Sign Up\"})})})]})]})});}}export default Login;","map":{"version":3,"names":["Component","Link","Navigate","Cookies","jsx","_jsx","jsxs","_jsxs","Login","constructor","arguments","state","username","password","submitForm","e","preventDefault","userDetails","response","fetch","method","headers","body","JSON","stringify","data","json","ok","set","jwtToken","expires","path","window","location","replace","alert","onChangeUserName","setState","target","value","onChangePassword","render","get","undefined","to","className","children","onSubmit","htmlFor","id","type","placeholder","onChange"],"sources":["C:/Users/shivaji/OneDrive/Desktop/revisit-category-management/frontend/src/components/Login/index.js"],"sourcesContent":["import \"./index.css\";\r\nimport { Component } from \"react\";\r\nimport {Link,Navigate } from \"react-router-dom\"\r\nimport Cookies from 'js-cookie'\r\n\r\nclass Login extends Component {\r\n    state = {username: \"\" , password: \"\"} \r\n\r\n    submitForm = async e => {\r\n        e.preventDefault();\r\n        const { username, password } = this.state \r\n        if (username && password !== \"\"){\r\n            const userDetails = {\r\n                username , password\r\n            }\r\n            const response = await fetch(\"http://localhost:3001/login/\", {\r\n                method: \"POST\",\r\n                headers: {\r\n                  \"Content-Type\": \"application/json\",\r\n                },\r\n                body: JSON.stringify(userDetails),\r\n              });\r\n            const data = await response.json()\r\n            if (response.ok){\r\n                 \r\n                Cookies.set('jwt_token', data.jwtToken, {\r\n                expires: 30,\r\n                path: '/',\r\n                })\r\n                window.location.replace('/')\r\n            }\r\n        }else {\r\n            alert(\"fill the input fields\")\r\n        }\r\n    }\r\n\r\n    onChangeUserName = (e) => {\r\n        this.setState({ username: e.target.value });\r\n      };\r\n    \r\n      onChangePassword = (e) => {\r\n        this.setState({ password: e.target.value });\r\n      };\r\n\r\n    render() {\r\n        const {username , password} = this.state\r\n        const jwtToken = Cookies.get('jwt_token')\r\n        if (jwtToken !== undefined) {\r\n            return <Navigate to=\"/\" />\r\n        }\r\n        return (\r\n            <div className=\"login-bg\">\r\n                <form className=\"login-card\" onSubmit={this.submitForm} >\r\n                    <h1>Login</h1>\r\n                    <lable htmlFor=\"UserName\">UserName</lable>\r\n                    <input\r\n                        id=\"UserName\"\r\n                        className=\"inputs\"\r\n                        type=\"text\"\r\n                        value={username}\r\n                        placeholder=\"Enter your userName\"\r\n                        onChange={this.onChangeUserName}\r\n                    />\r\n                    <lable htmlFor=\"Password\">Password</lable>\r\n                    <input\r\n                        id=\"Password\"\r\n                        className=\"inputs\"\r\n                        type=\"password\"\r\n                        value={password}\r\n                        placeholder=\"Enter your password\"\r\n                        onChange={this.onChangePassword}\r\n                    />\r\n                    <button type=\"submit\" className=\"loginBtn\">Login</button>\r\n                    <p className=\"signuptext\">Don't have an account? \r\n                        <span>\r\n                            <Link to=\"/signup\">\r\n                                <button className=\"signupButton\">Sign Up</button>\r\n                            </Link>\r\n                        </span>\r\n                    </p>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Login"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}